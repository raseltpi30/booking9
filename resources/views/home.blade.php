@extends('layouts.app')
@section('main_content')
    <!-- main start  -->
    <!-- new-service start  -->
    <section class="new-service-area" style="position: relative;overflow: hidden;">
        <div id="block-yui_3_17_2_1_1720516738964_3057">
            <!-- Background image will be applied here -->
        </div>

        <div class="outer-container">
            <div class="container new-code">
                <h1>Professional Cleaning Services in Sydney</h1>
                <h2>Book Online Instantly or Call 0426-280-899</h2>
                <div class="sqs-block-form">
                    <div class="field-list">
                        <div class="field first-name">
                            <label for="first-name">First Name</label>
                            <input type="text" id="first-name" name="first-name" placeholder="">
                        </div>
                        <div class="field last-name">
                            <label for="last-name">Last Name</label>
                            <input type="text" id="last-name" name="last-name" placeholder="">
                        </div>
                        <div class="field email">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" placeholder="">
                        </div>
                        <div class="field service">
                            <label for="service">Choose your service</label>
                            <select id="service" name="service">
                                <option value="Studio or 1 Bedroom">Studio or 1 Bedroom</option>
                                <option value="2 Bedroom">2 Bedroom</option>
                                <option value="3 Bedroom">3 Bedroom</option>
                                <option value="4 Bedroom">4 Bedroom</option>
                                <option value="5 Bedroom">5 Bedroom</option>
                                <option value="6 Bedroom">6 Bedroom</option>
                                <option value="7 Bedroom">7 Bedroom</option>
                                <option value="8 Bedroom">8 Bedroom</option>
                                <option value="9 Bedroom">9 Bedroom</option>
                                <option value="10 Bedroom">10 Bedroom</option>
                                <option value="11 Bedroom">11 Bedroom</option>
                            </select>
                        </div>
                        <div class="field bathroom">
                            <label for="bathroom">Bathroom</label>
                            <select id="bathroom" name="bathroom">
                                <option value="1 Bathroom">1 Bathroom</option>
                                <option value="2 Bathroom">2 Bathrooms</option>
                                <option value="3 Bathroom">3 Bathrooms</option>
                                <option value="4 Bathroom">4 Bathrooms</option>
                                <option value="5 Bathroom">5 Bathrooms</option>
                                <option value="6 Bathroom">6 Bathrooms</option>
                                <option value="7 Bathroom">7 Bathrooms</option>
                            </select>
                        </div>
                        <div class="field frequency">
                            <label for="frequency">Frequency</label>
                            <select id="frequency" name="frequency">
                                <option value="Weekly">Weekly (Save 15%)</option>
                                <option value="Fortnightly">Fortnightly (Save 10%)</option>
                                <option value="Monthly">Monthly (Save 5%)</option>
                                <option value="One-time">One-time service</option>
                            </select>
                        </div>
                        <div class="submit-button">
                            <a href="#" id="book-now">Book in 60 Seconds! ($130 per Clean)</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- new service end  -->
    <!-- how it works area start  -->
    <section class="how-it-area">
        <div class="how-it-works-section">
            <h1>How It Works</h1>
            <div class="separator"></div>
            <div class="steps-container">
                <div class="step">
                    <div class="content-wrapper">
                        <img src="https://static1.squarespace.com/static/6682192d1022a0098a1c29d9/t/66b36bfa9a721873928705e8/1723034623407/Schedule+Now%21.jpg"
                            alt="Schedule Image" loading="lazy">
                        <h3>Book</h3>
                        <p>Select the perfect time for us to visit. Our online scheduling is hassle-free.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="content-wrapper">
                        <img src="https://static1.squarespace.com/static/6682192d1022a0098a1c29d9/t/66ba17fc07413900af42007c/1723471879967/People+Cleaning.jpg"
                            alt="Clean Image" loading="lazy">
                        <h3>Clean</h3>
                        <p>Our skilled team uses top-notch techniques and eco-friendly products to purify your space.
                        </p>
                    </div>
                </div>
                <div class="step">
                    <div class="content-wrapper">
                        <img src="https://static1.squarespace.com/static/6682192d1022a0098a1c29d9/t/66ba17fedf474271756d1450/1723471884045/Relax.jpg"
                            alt="Relax Image" loading="lazy">
                        <h3>Relax</h3>
                        <p>Take a deep breath and relax in the comfort of your impeccably clean home.</p>
                    </div>
                </div>
            </div>
            <a href="/book-now-" class="book-now-button">Book Now!</a>
        </div>
    </section>
    <!-- how it works area end  -->
    <!-- discount area start  -->
    <section class="discount-area">
        <div id="custom-section">
            <div class="custom-content">
                <h2>Reliable Professionials. Outstanding Cleanliness.</h2>
                <p>At Crystal Clean, we’re more than just a cleaning service; we’re part of your community. As a proud
                    Sydney-based company, we understand the importance of trust and security when it comes to your home
                    and office.
                    That’s why every member of our team is not only meticulously vetted but also someone we would trust
                    in our own
                    homes.</p>
                <p class="last"><strong>When you choose Crystal Clean, you’re not just hiring a cleaner, you’re
                        welcoming a
                        professional.</strong></p>
                <h3>Meet Your Expert Cleaning Team in Sydney:</h3>
                <div class="features">
                    <div class="feature-item">
                        <div class="feature-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 24 24"
                                fill="none" stroke="white" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="feather feather-star">
                                <polygon
                                    points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2">
                                </polygon>
                            </svg>
                        </div>
                        <p>True Pros: Not just skilled, our cleaners love what they do. Expect nothing but sparkling
                            results.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 24 24"
                                fill="none" stroke="white" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="feather feather-shield">
                                <path
                                    d="M12 22c4.97-1.64 8-6.18 8-11V5.34c0-.6-.26-1.17-.71-1.58L12 .3 4.71 3.76c-.45.41-.71.98-.71 1.58V11c0 4.82 3.03 9.36 8 11z">
                                </path>
                            </svg>
                        </div>
                        <p>Fully Trusted: Every cleaner passes rigorous background checks because your safety is our top
                            priority.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 24 24"
                                fill="none" stroke="white" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="feather feather-clock">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                        </div>
                        <p>Efficient & Thorough: We streamline our processes to ensure every clean is both efficient and
                            thorough,
                            without taking shortcuts.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 24 24"
                                fill="none" stroke="white" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="feather feather-heart">
                                <path
                                    d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l7.78 7.78 7.78-7.78a5.5 5.5 0 0 0 0-7.78z">
                                </path>
                            </svg>
                        </div>
                        <p>Client Favorite: Our customers keep calling us back, and we love it! We're honored to be your
                            go-to for a
                            clean space.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- how it works area end  -->
    <!-- discount area start  -->
    <section class="discount-area">
        <div class="section-container">
            <section id="yui_3_17_2_1_1721103413821_413">
                <div class="promo-banner">
                    <div class="promo-text">
                        <h1 id="yui_3_17_2_1_1721029560499_470">Try us out with 10% off your first cleaning service in
                            Sydney!</h1>
                        <p>Don't miss out, sign up now to enjoy exclusive offers and a spotless home.</p>
                        <form onsubmit="handleSubmit(event)">
                            <input type="text" name="first-name" placeholder="First name" required>
                            <input type="email" name="email" placeholder="Email" required>
                            <button type="submit">Get coupon!</button>
                        </form>
                    </div>
                </div>
            </section>
        </div>
    </section>
    <!-- discount area end  -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        // this code for service section 
        $(document).ready(function() {
            $('#book-now').on('click', function(event) {
                event.preventDefault(); // Prevent default link behavior

                // Helper function to encode value and replace '%20' with '+'
                const getEncodedValue = (id) => {
                    const value = $(`#${id}`).val();
                    return encodeURIComponent(value).replace(/%20/g, '+');
                };

                // Get form values
                const firstName = getEncodedValue('first-name');
                const lastName = getEncodedValue('last-name');
                const email = $(`#email`).val();
                const service = getEncodedValue('service');
                const bathroom = getEncodedValue('bathroom');
                const frequency = getEncodedValue('frequency');

                // Check email validity only if email is provided
                if (email && !validateEmail(email)) {
                    alert('Please enter a valid email address.');
                    return;
                }

                // Encode the email address
                const encodedEmail = encodeURIComponent(email).replace(/%20/g, '+');

                // Create query parameters manually
                const params = `first-name=${firstName}&last-name=${lastName}&email=${encodedEmail}&service=${service}&bathroom=${bathroom}&frequency=${frequency}`;
                window.location.href = '/book-now?' + params;
            });

            // Function to validate email address
            function validateEmail(email) {
                const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return re.test(email);
            }
        });
    </script>
@endsection
